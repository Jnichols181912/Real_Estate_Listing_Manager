CREATE TABLE CATEGORY (
    CATEGORYID INT NOT NULL,
    CATEGORYNAME VARCHAR(100),

    PRIMARY KEY (CATEGORYID)
);

CREATE TABLE STATUS (
    STATUSID INT NOT NULL,
    LISTINGSTATUS VARCHAR(100),

    PRIMARY KEY (STATUSID)
);

CREATE TABLE TYPE (
    TYPEID INT NOT NULL,
    PROPERTYTYPE VARCHAR(100) NOT NULL,

    PRIMARY KEY (TYPEID)
);

CREATE TABLE ADDRESS (
    ADDRESSID INT NOT NULL,
    FULLSTREETADDRESS VARCHAR(100) NOT NULL,
    CITY VARCHAR(50),
    STATEORPROVINCE VARCHAR(50),
    POSTALCODE INT NOT NULL,
    COUNTRY VARCHAR(50) NOT NULL,

    PRIMARY KEY (ADDRESSID)
);

CREATE TABLE MLS (
    MLSID INT NOT NULL,
    MLSNAME VARCHAR(100) NOT NULL,
    MLSADDRESS VARCHAR(100),
    MLSEMAIL VARCHAR(50),
    MLSPHONENUMBER VARCHAR(50),
    MLSFAX VARCHAR(50),

    PRIMARY KEY (MLSID)
);

CREATE TABLE PHOTO (
    PHOTOID INT NOT NULL,
    MEDIAMODIFICATIONTIMESTAMP VARCHAR(100),
    MEDIAURL VARCHAR(100) NOT NULL,
    LISTINGID INT NOT NULL,

    PRIMARY KEY (PHOTOID)
);
	
ALTER TABLE PHOTO
ADD FOREIGN KEY (LISTINGID)
REFERENCES LISTING;

create table LISTING (
    ListingId int not null,
    ListURL varchar(100) not null,
    ListingDescription varchar(100),
    ListDate VARCHAR(15),
	 ListPrice int,
    Bedrooms int,
    Bathrooms int,
    TypeId int,
    StatusId int,
    CategoryId int,
    MlsId int,
    AddressId int,

    primary key (ListingId),
    foreign key (TypeId) references TYPE
        on delete set null,
    foreign key (AddressId) references ADDRESS
        on delete set null,
    foreign key (StatusId) references STATUS
        on delete set null,
    foreign key (CategoryId) references CATEGORY
        on delete set null,
    foreign key (MlsId) references MLS
        on delete set null
);
